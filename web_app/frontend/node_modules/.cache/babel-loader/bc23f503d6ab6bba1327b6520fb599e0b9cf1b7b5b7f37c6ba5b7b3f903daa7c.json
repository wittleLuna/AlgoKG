{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import{Card,List,Button,Space,Typography,message,Tag}from'antd';import{LeftOutlined,SendOutlined,PlayCircleOutlined,UserOutlined}from'@ant-design/icons';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const{Title,Text,Paragraph}=Typography;const SavedAlgorithmsManager=_ref=>{let{onLoadAlgorithm}=_ref;const[savedAlgorithms,setSavedAlgorithms]=useState([]);// 加载保存的算法\nconst loadSavedAlgorithms=useCallback(()=>{try{const saved=localStorage.getItem('customAlgorithms');if(saved){const algorithms=JSON.parse(saved);setSavedAlgorithms(algorithms);}}catch(error){console.error('加载保存的算法失败:',error);message.error('加载保存的算法失败');}},[]);useEffect(()=>{loadSavedAlgorithms();},[loadSavedAlgorithms]);// 删除算法\nconst handleDelete=useCallback(algorithmId=>{try{const updatedAlgorithms=savedAlgorithms.filter(alg=>alg.id!==algorithmId);localStorage.setItem('customAlgorithms',JSON.stringify(updatedAlgorithms));setSavedAlgorithms(updatedAlgorithms);message.success('算法已删除');}catch(error){console.error('删除算法失败:',error);message.error('删除算法失败');}},[savedAlgorithms]);// 加载算法到编辑器\nconst handleLoad=useCallback(algorithm=>{onLoadAlgorithm(algorithm);message.success(`已加载算法: ${algorithm.name}`);},[onLoadAlgorithm]);// 预览算法\nconst handlePreview=useCallback(algorithm=>{const info=`算法名称: ${algorithm.name}\\n数据结构: ${getDataStructureName(algorithm.dataStructure)}\\n描述: ${algorithm.description||'无描述'}\\n创建时间: ${new Date(algorithm.createdAt).toLocaleString()}`;alert(info);},[]);// 获取数据结构标签颜色\nconst getDataStructureColor=dataStructure=>{const colors={array:'blue',stack:'green',queue:'orange',tree:'purple',graph:'red'};return colors[dataStructure]||'default';};// 获取数据结构中文名\nconst getDataStructureName=dataStructure=>{const names={array:'数组',stack:'栈',queue:'队列',tree:'二叉树',graph:'图'};return names[dataStructure]||dataStructure;};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Card,{title:/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(UserOutlined,{}),\"\\u4FDD\\u5B58\\u7684\\u7B97\\u6CD5\\u6A21\\u677F\",/*#__PURE__*/_jsxs(Tag,{color:\"blue\",children:[savedAlgorithms.length,\"\\u4E2A\"]})]}),extra:/*#__PURE__*/_jsx(Button,{onClick:loadSavedAlgorithms,size:\"small\",children:\"\\u5237\\u65B0\"}),children:savedAlgorithms.length===0?/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'40px 0',color:'#999'},children:[/*#__PURE__*/_jsx(UserOutlined,{style:{fontSize:48,marginBottom:16}}),/*#__PURE__*/_jsx(\"div\",{children:\"\\u6682\\u65E0\\u4FDD\\u5B58\\u7684\\u7B97\\u6CD5\\u6A21\\u677F\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:12,marginTop:8},children:\"\\u5728\\u81EA\\u5B9A\\u4E49\\u7B97\\u6CD5\\u7F16\\u8F91\\u5668\\u4E2D\\u521B\\u5EFA\\u5E76\\u4FDD\\u5B58\\u7B97\\u6CD5\\u6A21\\u677F\"})]}):/*#__PURE__*/_jsx(List,{dataSource:savedAlgorithms,renderItem:algorithm=>/*#__PURE__*/_jsx(List.Item,{actions:[/*#__PURE__*/_jsx(Button,{type:\"text\",icon:/*#__PURE__*/_jsx(SendOutlined,{}),onClick:()=>handlePreview(algorithm),size:\"small\",children:\"\\u9884\\u89C8\"}),/*#__PURE__*/_jsx(Button,{type:\"text\",icon:/*#__PURE__*/_jsx(PlayCircleOutlined,{}),onClick:()=>handleLoad(algorithm),size:\"small\",children:\"\\u52A0\\u8F7D\"}),/*#__PURE__*/_jsx(Button,{type:\"text\",icon:/*#__PURE__*/_jsx(LeftOutlined,{}),onClick:()=>{if(window.confirm('确定要删除这个算法模板吗？')){handleDelete(algorithm.id);}},danger:true,size:\"small\",children:\"\\u5220\\u9664\"})],children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:8},children:/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Text,{strong:true,children:algorithm.name}),/*#__PURE__*/_jsx(Tag,{color:getDataStructureColor(algorithm.dataStructure),children:getDataStructureName(algorithm.dataStructure)})]})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Paragraph,{ellipsis:{rows:2},style:{marginBottom:8,color:'#666'},children:algorithm.description||'无描述'}),/*#__PURE__*/_jsxs(Text,{type:\"secondary\",style:{fontSize:12},children:[\"\\u521B\\u5EFA\\u65F6\\u95F4: \",new Date(algorithm.createdAt).toLocaleString()]})]})]})})})})});};export default SavedAlgorithmsManager;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}