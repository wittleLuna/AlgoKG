{"ast":null,"code":"import React,{useState}from'react';import{Card,Typography,Button,Space,Spin,Alert,Tag,Drawer,List,message}from'antd';import{NodeIndexOutlined,ExpandAltOutlined,DownloadOutlined,InfoCircleOutlined,CodeOutlined,BulbOutlined,ThunderboltOutlined,CloseOutlined}from'@ant-design/icons';import UnifiedGraphVisualization from'../graph/UnifiedGraphVisualization';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const{Text,Title,Paragraph}=Typography;const InlineKnowledgeGraph=_ref=>{var _nodeDetailInfo$algor,_nodeDetailInfo$data_,_nodeDetailInfo$techn,_nodeDetailInfo$solut,_nodeDetailInfo$relat,_nodeDetailInfo$basic,_nodeDetailInfo$basic2,_nodeDetailInfo$basic3,_nodeDetailInfo$basic4,_nodeDetailInfo$basic5,_nodeDetailInfo$basic6,_nodeDetailInfo$basic7;let{graphData,entities,onNodeClick,onExpandClick,showAnimation=false,// é»˜è®¤æš‚åœåŠ¨ç”»\nisEnhanced=false// æ˜¯å¦ä¸ºå¢žå¼ºå›¾è°±æ•°æ®\n}=_ref;const[isExpanded,setIsExpanded]=useState(false);const[loading,setLoading]=useState(false);const[selectedNode,setSelectedNode]=useState(null);const[nodeDetailVisible,setNodeDetailVisible]=useState(false);const[nodeDetailLoading,setNodeDetailLoading]=useState(false);const[nodeDetailInfo,setNodeDetailInfo]=useState(null);const[nodeDetailError,setNodeDetailError]=useState(null);// èŽ·å–èŠ‚ç‚¹è¯¦ç»†ä¿¡æ¯ - ä½¿ç”¨ç»Ÿä¸€çš„APIè·¯å¾„\nconst fetchNodeDetail=async(nodeId,nodeType)=>{setNodeDetailLoading(true);setNodeDetailError(null);try{var _data$algorithms,_data$data_structures,_data$techniques,_data$solutions;// ä½¿ç”¨ç»Ÿä¸€çš„APIè·¯å¾„ï¼Œä¸Žç‹¬ç«‹é¢æ¿ä¿æŒä¸€è‡´\nconst url=`/api/v1/graph/unified/node/${encodeURIComponent(nodeId)}/details?node_type=${nodeType}`;const response=await fetch(url);if(!response.ok){throw new Error(`HTTP error! status: ${response.status}`);}const data=await response.json();// éªŒè¯æ•°æ®ç»“æž„\nif(!data||typeof data!=='object'){console.error('âŒ APIå“åº”æ•°æ®æ ¼å¼æ— æ•ˆ:',data);throw new Error('APIå“åº”æ•°æ®æ ¼å¼æ— æ•ˆ');}console.log('âœ… èŠ‚ç‚¹è¯¦æƒ…APIå“åº”:',data);console.log('ðŸ“Š æ•°æ®å­—æ®µæ£€æŸ¥:',{hasBasicInfo:!!data.basic_info,hasAlgorithms:!!data.algorithms,algorithmsLength:((_data$algorithms=data.algorithms)===null||_data$algorithms===void 0?void 0:_data$algorithms.length)||0,hasDataStructures:!!data.data_structures,dataStructuresLength:((_data$data_structures=data.data_structures)===null||_data$data_structures===void 0?void 0:_data$data_structures.length)||0,hasTechniques:!!data.techniques,techniquesLength:((_data$techniques=data.techniques)===null||_data$techniques===void 0?void 0:_data$techniques.length)||0,hasComplexity:!!data.complexity,hasSolutions:!!data.solutions,solutionsLength:((_data$solutions=data.solutions)===null||_data$solutions===void 0?void 0:_data$solutions.length)||0});setNodeDetailInfo(data);}catch(err){console.error('èŽ·å–èŠ‚ç‚¹è¯¦æƒ…å¤±è´¥:',err);setNodeDetailError(err.message||'èŽ·å–èŠ‚ç‚¹è¯¦æƒ…å¤±è´¥');}finally{setNodeDetailLoading(false);}};// å¤„ç†èŠ‚ç‚¹ç‚¹å‡»\nconst handleNodeClick=(nodeId,nodeData)=>{console.log('InlineKnowledgeGraph - èŠ‚ç‚¹ç‚¹å‡»:',{nodeId,nodeData});setSelectedNode(nodeData);setNodeDetailVisible(true);// æ™ºèƒ½é€‰æ‹©æŸ¥è¯¢å‚æ•°ï¼š\n// 1. å¦‚æžœæ˜¯ç‹¬ç«‹å›¾è°±çš„èŠ‚ç‚¹IDæ ¼å¼ï¼ˆnode_problem_xxxï¼‰ï¼Œä½¿ç”¨èŠ‚ç‚¹çš„labelï¼ˆé¢˜ç›®åç§°ï¼‰\n// 2. å¦‚æžœæ˜¯å¢žå¼ºå›¾è°±çš„èŠ‚ç‚¹IDæ ¼å¼ï¼ˆneo4j_xxxï¼‰ï¼Œä½¿ç”¨èŠ‚ç‚¹ID\nconsole.log(`ðŸ” èŠ‚ç‚¹IDåˆ†æž: ${nodeId}, label: ${nodeData.label}`);let queryParam=nodeId;if(nodeId.startsWith('node_problem_')||nodeId.startsWith('node_algorithm_')||nodeId.startsWith('node_datastructure_')){// ç‹¬ç«‹å›¾è°±æ ¼å¼ï¼Œä½¿ç”¨labelä½œä¸ºæŸ¥è¯¢å‚æ•°\nqueryParam=nodeData.label;console.log(`ðŸ”„ ç‹¬ç«‹å›¾è°±èŠ‚ç‚¹ï¼Œä½¿ç”¨labelæŸ¥è¯¢: ${nodeData.label}`);}else{// å¢žå¼ºå›¾è°±æ ¼å¼ï¼Œä½¿ç”¨nodeId\nconsole.log(`ðŸ”„ å¢žå¼ºå›¾è°±èŠ‚ç‚¹ï¼Œä½¿ç”¨nodeIdæŸ¥è¯¢: ${nodeId}`);}console.log(`ðŸ“¤ æœ€ç»ˆæŸ¥è¯¢å‚æ•°: ${queryParam}`);fetchNodeDetail(queryParam,nodeData.type);// ä¸è°ƒç”¨å¤–éƒ¨çš„onNodeClickå›žè°ƒï¼Œé¿å…é‡å¤å¤„ç†\n// if (onNodeClick) {\n//   onNodeClick(nodeId, nodeData);\n// }\n};// ç»Ÿè®¡ä¸åŒç±»åž‹çš„èŠ‚ç‚¹\nconst getNodeStats=()=>{const stats={};graphData.nodes.forEach(node=>{stats[node.type]=(stats[node.type]||0)+1;});return stats;};// èŽ·å–èŠ‚ç‚¹ç±»åž‹å›¾æ ‡\nconst getNodeIcon=type=>{switch(type){case'Problem':return/*#__PURE__*/_jsx(CodeOutlined,{});case'Algorithm':return/*#__PURE__*/_jsx(ThunderboltOutlined,{});case'DataStructure':return/*#__PURE__*/_jsx(InfoCircleOutlined,{});case'Technique':return/*#__PURE__*/_jsx(BulbOutlined,{});default:return/*#__PURE__*/_jsx(InfoCircleOutlined,{});}};// èŽ·å–éš¾åº¦é¢œè‰²\nconst getDifficultyColor=difficulty=>{switch(difficulty){case'ç®€å•':return'green';case'ä¸­ç­‰':return'orange';case'å›°éš¾':return'red';default:return'default';}};const nodeStats=getNodeStats();const totalNodes=graphData.nodes.length;const totalEdges=graphData.edges.length;// æ‰¾åˆ°ä¸­å¿ƒèŠ‚ç‚¹\nconst centerNode=graphData.nodes.find(node=>{var _node$properties;return((_node$properties=node.properties)===null||_node$properties===void 0?void 0:_node$properties.is_center)||node.id===graphData.center_node;});const handleExpand=()=>{setIsExpanded(!isExpanded);};const handleDownloadGraph=()=>{console.log('ðŸ“¥ å¼€å§‹ä¸‹è½½å›¾è°±');try{// æŸ¥æ‰¾å›¾è°±å®¹å™¨ä¸­çš„Canvaså…ƒç´ ï¼ˆvis.jsä½¿ç”¨Canvasæ¸²æŸ“ï¼‰\n// é¦–å…ˆå°è¯•åœ¨å½“å‰ç»„ä»¶çš„å®¹å™¨ä¸­æŸ¥æ‰¾\nconst currentContainer=document.querySelector('.unified-graph-visualization');let graphContainer=null;if(currentContainer){graphContainer=currentContainer.querySelector('canvas');}// å¦‚æžœæ²¡æ‰¾åˆ°ï¼Œå°è¯•å…¶ä»–é€‰æ‹©å™¨\nif(!graphContainer){graphContainer=document.querySelector('.graph-container canvas')||document.querySelector('.enhanced-graph-visualization canvas')||document.querySelector('canvas');}if(!graphContainer){console.warn('âš ï¸ æœªæ‰¾åˆ°å›¾è°±Canvaså…ƒç´ ï¼Œå°è¯•å¤‡ç”¨æ–¹æ³•');// æ˜¾ç¤ºæ‰€æœ‰Canvaså…ƒç´ ç”¨äºŽè°ƒè¯•\nconst allCanvases=document.querySelectorAll('canvas');console.log('ðŸ” é¡µé¢ä¸­çš„æ‰€æœ‰Canvaså…ƒç´ :',allCanvases.length);if(allCanvases.length>0){// ä½¿ç”¨ç¬¬ä¸€ä¸ªæ‰¾åˆ°çš„Canvasä½œä¸ºå¤‡ç”¨\nconsole.log('ðŸ“‹ ä½¿ç”¨ç¬¬ä¸€ä¸ªCanvasä½œä¸ºå¤‡ç”¨');graphContainer=allCanvases[0];}else{console.error('âŒ é¡µé¢ä¸­æ²¡æœ‰æ‰¾åˆ°ä»»ä½•Canvaså…ƒç´ ');message.error('æ— æ³•æ‰¾åˆ°å›¾è°±å…ƒç´ ï¼Œè¯·ç¡®ä¿å›¾è°±å·²åŠ è½½å®Œæˆ');return;}}const canvas=graphContainer;// åˆ›å»ºæ–°çš„Canvasç”¨äºŽæ·»åŠ èƒŒæ™¯å’Œè¾¹è·\nconst downloadCanvas=document.createElement('canvas');const ctx=downloadCanvas.getContext('2d');if(!ctx){console.error('âŒ æ— æ³•åˆ›å»ºCanvasä¸Šä¸‹æ–‡');return;}// è®¾ç½®ä¸‹è½½Canvasçš„å°ºå¯¸ï¼ˆæ·»åŠ è¾¹è·ï¼‰\nconst padding=40;downloadCanvas.width=canvas.width+padding*2;downloadCanvas.height=canvas.height+padding*2;// è®¾ç½®ç™½è‰²èƒŒæ™¯\nctx.fillStyle='white';ctx.fillRect(0,0,downloadCanvas.width,downloadCanvas.height);// ç»˜åˆ¶åŽŸå§‹å›¾è°±åˆ°æ–°Canvasï¼ˆæ·»åŠ è¾¹è·ï¼‰\nctx.drawImage(canvas,padding,padding);// æ·»åŠ æ ‡é¢˜\nctx.fillStyle='#333';ctx.font='16px Arial';ctx.textAlign='center';ctx.fillText('çŸ¥è¯†å›¾è°±',downloadCanvas.width/2,25);// æ·»åŠ æ—¶é—´æˆ³\nctx.font='12px Arial';ctx.textAlign='right';ctx.fillStyle='#999';const timestamp=new Date().toLocaleString('zh-CN');ctx.fillText(`ç”Ÿæˆæ—¶é—´: ${timestamp}`,downloadCanvas.width-10,downloadCanvas.height-10);// è½¬æ¢ä¸ºPNGå¹¶ä¸‹è½½\ndownloadCanvas.toBlob(blob=>{if(blob){const url=URL.createObjectURL(blob);const link=document.createElement('a');link.href=url;link.download=`knowledge-graph-${Date.now()}.png`;document.body.appendChild(link);link.click();document.body.removeChild(link);// æ¸…ç†URL\nURL.revokeObjectURL(url);console.log('âœ… å›¾è°±ä¸‹è½½æˆåŠŸ');message.success('å›¾è°±ä¸‹è½½æˆåŠŸï¼');}},'image/png',0.95);// é«˜è´¨é‡PNG\n}catch(error){console.error('âŒ ä¸‹è½½å›¾è°±æ—¶å‡ºé”™:',error);message.error('ä¸‹è½½å›¾è°±æ—¶å‡ºé”™ï¼Œè¯·ç¨åŽé‡è¯•');}};return/*#__PURE__*/_jsxs(Card,{size:\"small\",style:{margin:'16px 0',border:'1px solid #d9d9d9',borderRadius:'8px',background:'linear-gradient(135deg, #f6ffed 0%, #f0f9ff 100%)'},bodyStyle:{padding:'16px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'12px'},children:/*#__PURE__*/_jsxs(Space,{align:\"center\",style:{width:'100%',justifyContent:'space-between'},children:[/*#__PURE__*/_jsxs(Space,{align:\"center\",children:[/*#__PURE__*/_jsx(NodeIndexOutlined,{style:{color:'#1890ff',fontSize:'16px'}}),/*#__PURE__*/_jsx(Title,{level:5,style:{margin:0,color:'#1890ff'},children:\"\\u77E5\\u8BC6\\u56FE\\u8C31\"}),/*#__PURE__*/_jsxs(Tag,{color:\"blue\",children:[totalNodes,\"\\u4E2A\\u8282\\u70B9\"]}),/*#__PURE__*/_jsxs(Tag,{color:\"green\",children:[totalEdges,\"\\u6761\\u5173\\u7CFB\"]}),isEnhanced&&/*#__PURE__*/_jsx(Tag,{color:\"orange\",children:\"\\u589E\\u5F3A\\u6570\\u636E\"})]}),/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Button,{type:\"text\",size:\"small\",icon:/*#__PURE__*/_jsx(DownloadOutlined,{}),onClick:handleDownloadGraph,children:\"\\u4E0B\\u8F7D\\u56FE\\u8C31\"}),/*#__PURE__*/_jsx(Button,{type:\"text\",size:\"small\",icon:/*#__PURE__*/_jsx(ExpandAltOutlined,{}),onClick:handleExpand,children:isExpanded?'æ”¶èµ·':'å±•å¼€'})]})]})}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'12px'},children:/*#__PURE__*/_jsxs(Space,{direction:\"vertical\",size:\"small\",style:{width:'100%'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Text,{type:\"secondary\",style:{fontSize:'12px'},children:[/*#__PURE__*/_jsx(InfoCircleOutlined,{style:{marginRight:'4px'}}),\"\\u67E5\\u8BE2\\u5B9E\\u4F53\\uFF1A\"]}),/*#__PURE__*/_jsx(Space,{size:\"small\",wrap:true,children:entities.map((entity,index)=>/*#__PURE__*/_jsx(Tag,{color:\"processing\",style:{fontSize:'12px'},children:entity},index))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Text,{type:\"secondary\",style:{fontSize:'12px'},children:\"\\u8282\\u70B9\\u7C7B\\u578B\\uFF1A\"}),/*#__PURE__*/_jsx(Space,{size:\"small\",wrap:true,children:Object.entries(nodeStats).map(_ref2=>{let[type,count]=_ref2;return/*#__PURE__*/_jsxs(Tag,{style:{fontSize:'12px'},children:[type,\": \",count]},type);})})]}),centerNode&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Text,{type:\"secondary\",style:{fontSize:'12px'},children:\"\\u4E2D\\u5FC3\\u8282\\u70B9\\uFF1A\"}),/*#__PURE__*/_jsxs(Tag,{color:\"gold\",style:{fontSize:'12px'},children:[centerNode.label,\" (\",centerNode.type,\")\"]})]})]})}),isExpanded&&/*#__PURE__*/_jsxs(\"div\",{style:{height:'400px',border:'1px solid #e8e8e8',borderRadius:'6px',background:'white',position:'relative',overflow:'auto',// æ·»åŠ æ»šåŠ¨æ”¯æŒ\ncursor:'grab'// æ·»åŠ æ‹–æ‹½å…‰æ ‡æç¤º\n},onMouseDown:e=>{// æ‹–æ‹½æ—¶æ”¹å˜å…‰æ ‡\ne.currentTarget.style.cursor='grabbing';},onMouseUp:e=>{// é‡Šæ”¾æ—¶æ¢å¤å…‰æ ‡\ne.currentTarget.style.cursor='grab';},onMouseLeave:e=>{// é¼ æ ‡ç¦»å¼€æ—¶æ¢å¤å…‰æ ‡\ne.currentTarget.style.cursor='grab';},children:[/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:'8px',right:'8px',background:'rgba(0, 0, 0, 0.6)',color:'white',padding:'4px 8px',borderRadius:'4px',fontSize:'12px',zIndex:10,pointerEvents:'none'},children:\"\\u53EF\\u6EDA\\u52A8\\u67E5\\u770B\"}),loading?/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center',alignItems:'center',height:'100%'},children:/*#__PURE__*/_jsx(Spin,{tip:\"\\u52A0\\u8F7D\\u56FE\\u8C31\\u4E2D...\"})}):/*#__PURE__*/_jsx(UnifiedGraphVisualization,{data:graphData,height:\"100%\",showControls:true,onNodeClick:handleNodeClick,defaultDataSources:['neo4j','embedding'],showAnimation:showAnimation,disableBuiltinNodeDetail:true,disableEnhancedNodeInfo:true})]}),!isExpanded&&/*#__PURE__*/_jsx(\"div\",{style:{height:'120px',border:'1px solid #e8e8e8',borderRadius:'6px',background:'white',display:'flex',alignItems:'center',justifyContent:'center',cursor:'pointer',transition:'all 0.3s ease'},onClick:handleExpand,onMouseEnter:e=>{e.currentTarget.style.background='#fafafa';e.currentTarget.style.borderColor='#1890ff';},onMouseLeave:e=>{e.currentTarget.style.background='white';e.currentTarget.style.borderColor='#e8e8e8';},children:/*#__PURE__*/_jsxs(Space,{direction:\"vertical\",align:\"center\",children:[/*#__PURE__*/_jsx(NodeIndexOutlined,{style:{fontSize:'32px',color:'#1890ff'}}),/*#__PURE__*/_jsx(Text,{type:\"secondary\",style:{fontSize:'14px'},children:\"\\u70B9\\u51FB\\u5C55\\u5F00\\u67E5\\u770B\\u77E5\\u8BC6\\u56FE\\u8C31\"}),/*#__PURE__*/_jsxs(Text,{type:\"secondary\",style:{fontSize:'12px'},children:[totalNodes,\"\\u4E2A\\u8282\\u70B9\\uFF0C\",totalEdges,\"\\u6761\\u5173\\u7CFB\"]})]})}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'12px',textAlign:'center'},children:/*#__PURE__*/_jsxs(Text,{type:\"secondary\",style:{fontSize:'11px'},children:[\"\\u57FA\\u4E8E\\u67E5\\u8BE2\\u5B9E\\u4F53\\\"\",entities.join('ã€'),\"\\\"\\u751F\\u6210\\u7684\\u77E5\\u8BC6\\u5173\\u7CFB\\u56FE\\u8C31\"]})}),/*#__PURE__*/_jsx(Drawer,{title:selectedNode?/*#__PURE__*/_jsxs(Space,{children:[getNodeIcon(selectedNode.type),/*#__PURE__*/_jsx(\"span\",{children:selectedNode.label}),/*#__PURE__*/_jsx(Tag,{color:\"blue\",children:selectedNode.type})]}):'èŠ‚ç‚¹è¯¦æƒ…',placement:\"right\",width:480,onClose:()=>setNodeDetailVisible(false),open:nodeDetailVisible,extra:/*#__PURE__*/_jsx(Button,{type:\"text\",icon:/*#__PURE__*/_jsx(CloseOutlined,{}),onClick:()=>setNodeDetailVisible(false)}),children:nodeDetailLoading?/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:'50px 0'},children:/*#__PURE__*/_jsx(Spin,{tip:\"\\u52A0\\u8F7D\\u8282\\u70B9\\u8BE6\\u60C5\\u4E2D...\"})}):nodeDetailError?/*#__PURE__*/_jsx(Alert,{message:\"\\u52A0\\u8F7D\\u5931\\u8D25\",description:nodeDetailError,type:\"error\",showIcon:true}):nodeDetailInfo?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Card,{size:\"small\",title:\"\\uD83D\\uDD0D \\u8C03\\u8BD5\\u4FE1\\u606F\",style:{marginBottom:16,background:'#f0f9ff'},children:/*#__PURE__*/_jsxs(Space,{direction:\"vertical\",style:{width:'100%'},children:[/*#__PURE__*/_jsxs(Text,{type:\"secondary\",children:[\"\\u7B97\\u6CD5\\u6570\\u91CF: \",(nodeDetailInfo===null||nodeDetailInfo===void 0?void 0:(_nodeDetailInfo$algor=nodeDetailInfo.algorithms)===null||_nodeDetailInfo$algor===void 0?void 0:_nodeDetailInfo$algor.length)||0]}),/*#__PURE__*/_jsxs(Text,{type:\"secondary\",children:[\"\\u6570\\u636E\\u7ED3\\u6784\\u6570\\u91CF: \",(nodeDetailInfo===null||nodeDetailInfo===void 0?void 0:(_nodeDetailInfo$data_=nodeDetailInfo.data_structures)===null||_nodeDetailInfo$data_===void 0?void 0:_nodeDetailInfo$data_.length)||0]}),/*#__PURE__*/_jsxs(Text,{type:\"secondary\",children:[\"\\u6280\\u5DE7\\u6570\\u91CF: \",(nodeDetailInfo===null||nodeDetailInfo===void 0?void 0:(_nodeDetailInfo$techn=nodeDetailInfo.techniques)===null||_nodeDetailInfo$techn===void 0?void 0:_nodeDetailInfo$techn.length)||0]}),/*#__PURE__*/_jsxs(Text,{type:\"secondary\",children:[\"\\u89E3\\u51B3\\u65B9\\u6848\\u6570\\u91CF: \",(nodeDetailInfo===null||nodeDetailInfo===void 0?void 0:(_nodeDetailInfo$solut=nodeDetailInfo.solutions)===null||_nodeDetailInfo$solut===void 0?void 0:_nodeDetailInfo$solut.length)||0]}),/*#__PURE__*/_jsxs(Text,{type:\"secondary\",children:[\"\\u76F8\\u5173\\u9898\\u76EE\\u6570\\u91CF: \",(nodeDetailInfo===null||nodeDetailInfo===void 0?void 0:(_nodeDetailInfo$relat=nodeDetailInfo.related_problems)===null||_nodeDetailInfo$relat===void 0?void 0:_nodeDetailInfo$relat.length)||0]}),/*#__PURE__*/_jsxs(Text,{type:\"secondary\",children:[\"\\u6570\\u636E\\u5B57\\u6BB5: \",Object.keys(nodeDetailInfo||{}).join(', ')]}),(nodeDetailInfo===null||nodeDetailInfo===void 0?void 0:nodeDetailInfo.error)&&/*#__PURE__*/_jsxs(Text,{type:\"danger\",children:[\"\\u274C \\u9519\\u8BEF\\u4FE1\\u606F: \",nodeDetailInfo.error]}),/*#__PURE__*/_jsxs(Text,{type:\"secondary\",children:[\"\\u8282\\u70B9ID: \",selectedNode===null||selectedNode===void 0?void 0:selectedNode.id]}),/*#__PURE__*/_jsxs(Text,{type:\"secondary\",children:[\"\\u8282\\u70B9\\u7C7B\\u578B: \",selectedNode===null||selectedNode===void 0?void 0:selectedNode.type]})]})}),/*#__PURE__*/_jsx(Card,{size:\"small\",title:\"\\u57FA\\u672C\\u4FE1\\u606F\",style:{marginBottom:16},children:/*#__PURE__*/_jsxs(Space,{direction:\"vertical\",style:{width:'100%'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u540D\\u79F0\\uFF1A\"}),/*#__PURE__*/_jsx(Text,{children:(nodeDetailInfo===null||nodeDetailInfo===void 0?void 0:(_nodeDetailInfo$basic=nodeDetailInfo.basic_info)===null||_nodeDetailInfo$basic===void 0?void 0:_nodeDetailInfo$basic.title)||(selectedNode===null||selectedNode===void 0?void 0:selectedNode.label)||'æœªçŸ¥'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u7C7B\\u578B\\uFF1A\"}),/*#__PURE__*/_jsx(Tag,{color:\"blue\",children:(nodeDetailInfo===null||nodeDetailInfo===void 0?void 0:(_nodeDetailInfo$basic2=nodeDetailInfo.basic_info)===null||_nodeDetailInfo$basic2===void 0?void 0:_nodeDetailInfo$basic2.type)||(selectedNode===null||selectedNode===void 0?void 0:selectedNode.type)||'æœªçŸ¥'})]}),(nodeDetailInfo===null||nodeDetailInfo===void 0?void 0:(_nodeDetailInfo$basic3=nodeDetailInfo.basic_info)===null||_nodeDetailInfo$basic3===void 0?void 0:_nodeDetailInfo$basic3.difficulty)&&nodeDetailInfo.basic_info.difficulty!==null&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u96BE\\u5EA6\\uFF1A\"}),/*#__PURE__*/_jsx(Tag,{color:getDifficultyColor(nodeDetailInfo.basic_info.difficulty),children:nodeDetailInfo.basic_info.difficulty})]}),(nodeDetailInfo===null||nodeDetailInfo===void 0?void 0:(_nodeDetailInfo$basic4=nodeDetailInfo.basic_info)===null||_nodeDetailInfo$basic4===void 0?void 0:_nodeDetailInfo$basic4.category)&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u5206\\u7C7B\\uFF1A\"}),/*#__PURE__*/_jsx(Tag,{color:\"purple\",children:nodeDetailInfo.basic_info.category})]}),(nodeDetailInfo===null||nodeDetailInfo===void 0?void 0:(_nodeDetailInfo$basic5=nodeDetailInfo.basic_info)===null||_nodeDetailInfo$basic5===void 0?void 0:_nodeDetailInfo$basic5.url)&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u94FE\\u63A5\\uFF1A\"}),/*#__PURE__*/_jsx(\"a\",{href:nodeDetailInfo.basic_info.url,target:\"_blank\",rel:\"noopener noreferrer\",children:\"\\u67E5\\u770B\\u9898\\u76EE\"})]}),(nodeDetailInfo===null||nodeDetailInfo===void 0?void 0:(_nodeDetailInfo$basic6=nodeDetailInfo.basic_info)===null||_nodeDetailInfo$basic6===void 0?void 0:_nodeDetailInfo$basic6.platform)&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u5E73\\u53F0\\uFF1A\"}),/*#__PURE__*/_jsx(Text,{children:nodeDetailInfo.basic_info.platform})]}),(nodeDetailInfo===null||nodeDetailInfo===void 0?void 0:(_nodeDetailInfo$basic7=nodeDetailInfo.basic_info)===null||_nodeDetailInfo$basic7===void 0?void 0:_nodeDetailInfo$basic7.description)&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u63CF\\u8FF0\\uFF1A\"}),/*#__PURE__*/_jsx(Paragraph,{children:nodeDetailInfo.basic_info.description})]})]})}),(nodeDetailInfo===null||nodeDetailInfo===void 0?void 0:nodeDetailInfo.algorithms)&&Array.isArray(nodeDetailInfo.algorithms)&&nodeDetailInfo.algorithms.length>0&&/*#__PURE__*/_jsx(Card,{size:\"small\",title:\"\\u76F8\\u5173\\u7B97\\u6CD5\",style:{marginBottom:16},children:/*#__PURE__*/_jsx(List,{size:\"small\",dataSource:nodeDetailInfo.algorithms,renderItem:item=>/*#__PURE__*/_jsx(List.Item,{children:/*#__PURE__*/_jsxs(Space,{direction:\"vertical\",style:{width:'100%'},children:[/*#__PURE__*/_jsx(Text,{strong:true,children:(item===null||item===void 0?void 0:item.name)||'æœªçŸ¥ç®—æ³•'}),(item===null||item===void 0?void 0:item.description)&&/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:item.description})]})})})}),(nodeDetailInfo===null||nodeDetailInfo===void 0?void 0:nodeDetailInfo.data_structures)&&Array.isArray(nodeDetailInfo.data_structures)&&nodeDetailInfo.data_structures.length>0&&/*#__PURE__*/_jsx(Card,{size:\"small\",title:\"\\u76F8\\u5173\\u6570\\u636E\\u7ED3\\u6784\",style:{marginBottom:16},children:/*#__PURE__*/_jsx(List,{size:\"small\",dataSource:nodeDetailInfo.data_structures,renderItem:item=>/*#__PURE__*/_jsx(List.Item,{children:/*#__PURE__*/_jsxs(Space,{direction:\"vertical\",style:{width:'100%'},children:[/*#__PURE__*/_jsx(Text,{strong:true,children:(item===null||item===void 0?void 0:item.name)||'æœªçŸ¥æ•°æ®ç»“æž„'}),(item===null||item===void 0?void 0:item.description)&&/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:item.description})]})})})}),(nodeDetailInfo===null||nodeDetailInfo===void 0?void 0:nodeDetailInfo.complexity)&&typeof nodeDetailInfo.complexity==='object'&&/*#__PURE__*/_jsx(Card,{size:\"small\",title:\"\\u590D\\u6742\\u5EA6\\u5206\\u6790\",style:{marginBottom:16},children:/*#__PURE__*/_jsxs(Space,{direction:\"vertical\",style:{width:'100%'},children:[nodeDetailInfo.complexity.time&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u65F6\\u95F4\\u590D\\u6742\\u5EA6\\uFF1A\"}),/*#__PURE__*/_jsx(Tag,{color:\"green\",children:nodeDetailInfo.complexity.time})]}),nodeDetailInfo.complexity.space&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u7A7A\\u95F4\\u590D\\u6742\\u5EA6\\uFF1A\"}),/*#__PURE__*/_jsx(Tag,{color:\"blue\",children:nodeDetailInfo.complexity.space})]}),nodeDetailInfo.complexity.access&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u8BBF\\u95EE\\u590D\\u6742\\u5EA6\\uFF1A\"}),/*#__PURE__*/_jsx(Tag,{color:\"cyan\",children:nodeDetailInfo.complexity.access})]}),nodeDetailInfo.complexity.search&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u641C\\u7D22\\u590D\\u6742\\u5EA6\\uFF1A\"}),/*#__PURE__*/_jsx(Tag,{color:\"purple\",children:nodeDetailInfo.complexity.search})]}),nodeDetailInfo.complexity.insertion&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u63D2\\u5165\\u590D\\u6742\\u5EA6\\uFF1A\"}),/*#__PURE__*/_jsx(Tag,{color:\"orange\",children:nodeDetailInfo.complexity.insertion})]}),nodeDetailInfo.complexity.deletion&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u5220\\u9664\\u590D\\u6742\\u5EA6\\uFF1A\"}),/*#__PURE__*/_jsx(Tag,{color:\"red\",children:nodeDetailInfo.complexity.deletion})]})]})}),(nodeDetailInfo===null||nodeDetailInfo===void 0?void 0:nodeDetailInfo.related_problems)&&Array.isArray(nodeDetailInfo.related_problems)&&nodeDetailInfo.related_problems.length>0&&/*#__PURE__*/_jsx(Card,{size:\"small\",title:\"\\u76F8\\u5173\\u9898\\u76EE\",style:{marginBottom:16},children:/*#__PURE__*/_jsx(List,{size:\"small\",dataSource:nodeDetailInfo.related_problems,renderItem:item=>/*#__PURE__*/_jsx(List.Item,{children:/*#__PURE__*/_jsx(Space,{direction:\"vertical\",style:{width:'100%'},children:/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Text,{strong:true,children:(item===null||item===void 0?void 0:item.title)||'æœªçŸ¥é¢˜ç›®'}),(item===null||item===void 0?void 0:item.difficulty)&&/*#__PURE__*/_jsx(Tag,{color:getDifficultyColor(item.difficulty),children:item.difficulty}),(item===null||item===void 0?void 0:item.similarity_score)&&/*#__PURE__*/_jsxs(Tag,{color:\"purple\",children:[\"\\u76F8\\u4F3C\\u5EA6: \",(item.similarity_score*100).toFixed(1),\"%\"]})]})})})})}),(nodeDetailInfo===null||nodeDetailInfo===void 0?void 0:nodeDetailInfo.techniques)&&Array.isArray(nodeDetailInfo.techniques)&&nodeDetailInfo.techniques.length>0&&/*#__PURE__*/_jsx(Card,{size:\"small\",title:\"\\u76F8\\u5173\\u6280\\u5DE7\",style:{marginBottom:16},children:/*#__PURE__*/_jsx(List,{size:\"small\",dataSource:nodeDetailInfo.techniques,renderItem:item=>/*#__PURE__*/_jsx(List.Item,{children:/*#__PURE__*/_jsxs(Space,{direction:\"vertical\",style:{width:'100%'},children:[/*#__PURE__*/_jsx(Text,{strong:true,children:(item===null||item===void 0?void 0:item.name)||'æœªçŸ¥æŠ€å·§'}),(item===null||item===void 0?void 0:item.description)&&/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:item.description})]})})})}),(nodeDetailInfo===null||nodeDetailInfo===void 0?void 0:nodeDetailInfo.solutions)&&Array.isArray(nodeDetailInfo.solutions)&&nodeDetailInfo.solutions.length>0&&/*#__PURE__*/_jsx(Card,{size:\"small\",title:\"\\u89E3\\u51B3\\u65B9\\u6848\",style:{marginBottom:16},children:/*#__PURE__*/_jsx(List,{size:\"small\",dataSource:nodeDetailInfo.solutions,renderItem:item=>/*#__PURE__*/_jsx(List.Item,{children:/*#__PURE__*/_jsxs(Space,{direction:\"vertical\",style:{width:'100%'},children:[/*#__PURE__*/_jsx(Text,{strong:true,children:(item===null||item===void 0?void 0:item.approach)||'è§£å†³æ–¹æ¡ˆ'}),(item===null||item===void 0?void 0:item.description)&&/*#__PURE__*/_jsx(Paragraph,{style:{margin:0},children:item.description}),(item===null||item===void 0?void 0:item.time_complexity)&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"\\u65F6\\u95F4\\u590D\\u6742\\u5EA6: \"}),/*#__PURE__*/_jsx(Tag,{color:\"green\",children:item.time_complexity})]}),(item===null||item===void 0?void 0:item.space_complexity)&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"\\u7A7A\\u95F4\\u590D\\u6742\\u5EA6: \"}),/*#__PURE__*/_jsx(Tag,{color:\"blue\",children:item.space_complexity})]})]})})})}),(nodeDetailInfo===null||nodeDetailInfo===void 0?void 0:nodeDetailInfo.insights)&&Array.isArray(nodeDetailInfo.insights)&&nodeDetailInfo.insights.length>0&&/*#__PURE__*/_jsx(Card,{size:\"small\",title:\"\\u5173\\u952E\\u6D1E\\u5BDF\",style:{marginBottom:16},children:/*#__PURE__*/_jsx(List,{size:\"small\",dataSource:nodeDetailInfo.insights,renderItem:item=>/*#__PURE__*/_jsx(List.Item,{children:/*#__PURE__*/_jsxs(Space,{direction:\"vertical\",style:{width:'100%'},children:[/*#__PURE__*/_jsx(Text,{strong:true,children:(item===null||item===void 0?void 0:item.title)||'æ´žå¯Ÿ'}),(item===null||item===void 0?void 0:item.content)&&/*#__PURE__*/_jsx(Paragraph,{style:{margin:0},children:item.content})]})})})})]}):selectedNode?/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:'50px 0'},children:/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"\\u6682\\u65E0\\u8BE6\\u7EC6\\u4FE1\\u606F\"})}):null})]});};export default InlineKnowledgeGraph;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}