{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Card,Timeline,Progress,Tag,Collapse,Typography,Space,Button}from'antd';import{ThunderboltOutlined,SearchOutlined,BulbOutlined,LinkOutlined,CheckCircleOutlined,LoadingOutlined,ExclamationCircleOutlined,EyeOutlined,EyeInvisibleOutlined}from'@ant-design/icons';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const{Text,Title}=Typography;const{Panel}=Collapse;const EnhancedReasoningPath=_ref=>{var _steps$currentStepInd;let{steps,isStreaming=false,onStepClick}=_ref;const[expandedSteps,setExpandedSteps]=useState([]);const[showDetails,setShowDetails]=useState(false);// 默认隐藏详情\nconst[currentStepIndex,setCurrentStepIndex]=useState(0);const[isCompleted,setIsCompleted]=useState(false);// 是否完成所有步骤\n// 调试信息\nconsole.log('EnhancedReasoningPath - steps:',steps);console.log('EnhancedReasoningPath - steps length:',steps===null||steps===void 0?void 0:steps.length);console.log('EnhancedReasoningPath - isStreaming:',isStreaming);// 如果没有步骤数据，显示默认信息\nif(!steps||steps.length===0){console.log('EnhancedReasoningPath - 没有推理步骤数据');}// 智能体图标映射\nconst getAgentIcon=agentName=>{const iconMap={'analyzer':/*#__PURE__*/_jsx(ThunderboltOutlined,{style:{color:'#1890ff'}}),'knowledge_retriever':/*#__PURE__*/_jsx(SearchOutlined,{style:{color:'#52c41a'}}),'concept_explainer':/*#__PURE__*/_jsx(BulbOutlined,{style:{color:'#faad14'}}),'similar_problem_finder':/*#__PURE__*/_jsx(LinkOutlined,{style:{color:'#722ed1'}}),'integrator':/*#__PURE__*/_jsx(CheckCircleOutlined,{style:{color:'#13c2c2'}})};return iconMap[agentName]||/*#__PURE__*/_jsx(ThunderboltOutlined,{style:{color:'#8c8c8c'}});};// 获取步骤状态颜色\nconst getStatusColor=status=>{const colorMap={'success':'#52c41a','processing':'#1890ff','error':'#ff4d4f','partial':'#faad14'};return colorMap[status]||'#8c8c8c';};// 获取步骤状态图标\nconst getStatusIcon=(status,isActive)=>{switch(status){case'success':return/*#__PURE__*/_jsx(CheckCircleOutlined,{style:{color:'#52c41a'}});case'processing':return isActive?/*#__PURE__*/_jsx(LoadingOutlined,{spin:true,style:{color:'#1890ff'}}):/*#__PURE__*/_jsx(LoadingOutlined,{style:{color:'#1890ff'}});case'error':return/*#__PURE__*/_jsx(ExclamationCircleOutlined,{style:{color:'#ff4d4f'}});default:return/*#__PURE__*/_jsx(LoadingOutlined,{style:{color:'#8c8c8c'}});}};// 计算进度\nconst getProgress=()=>{if(steps.length===0)return 0;const completedSteps=steps.filter(step=>step.status==='success').length;return Math.round(completedSteps/steps.length*100);};// 获取当前活跃步骤\nconst getCurrentStep=()=>{const processingIndex=steps.findIndex(step=>step.status==='processing');if(processingIndex!==-1)return processingIndex;const lastCompletedIndex=steps.map(step=>step.status).lastIndexOf('success');return Math.min(lastCompletedIndex+1,steps.length-1);};// 更新当前步骤索引和完成状态\nuseEffect(()=>{setCurrentStepIndex(getCurrentStep());// 检查是否所有步骤都已完成\nconst allCompleted=steps.length>0&&steps.every(step=>step.status==='success');if(allCompleted&&!isCompleted){setIsCompleted(true);// 完成后自动显示详情\nsetTimeout(()=>{setShowDetails(true);},500);}},[steps,isCompleted]);// 格式化持续时间\nconst formatDuration=(startTime,endTime)=>{if(!endTime)return null;const duration=new Date(endTime).getTime()-new Date(startTime).getTime();return duration<1000?`${duration}ms`:`${(duration/1000).toFixed(1)}s`;};// 获取步骤显示名称\nconst getStepDisplayName=agentName=>{const nameMap={'analyzer':'查询分析','knowledge_retriever':'知识检索','concept_explainer':'概念解释','recommender':'题目推荐','similar_problem_finder':'相似题目','integrator':'信息整合','system':'系统处理'};return nameMap[agentName]||agentName;};// 渲染步骤详情\nconst renderStepDetails=step=>{var _step$result,_step$result2,_step$result3;return/*#__PURE__*/_jsxs(\"div\",{className:\"step-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"step-basic-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"\\u6267\\u884C\\u65F6\\u95F4:\"}),/*#__PURE__*/_jsx(Text,{children:formatDuration(step.start_time,step.end_time)||'计算中...'})]}),step.confidence&&/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"\\u7F6E\\u4FE1\\u5EA6:\"}),/*#__PURE__*/_jsxs(Text,{strong:true,style:{color:step.confidence>0.8?'#52c41a':step.confidence>0.6?'#faad14':'#ff4d4f'},children:[(step.confidence*100).toFixed(1),\"%\"]})]})]}),step.result&&/*#__PURE__*/_jsxs(\"div\",{className:\"step-result\",children:[step.step_type==='analysis'&&/*#__PURE__*/_jsxs(\"div\",{className:\"result-section\",children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u67E5\\u8BE2\\u5206\\u6790\\u7ED3\\u679C:\"}),step.result.intent&&/*#__PURE__*/_jsxs(\"div\",{className:\"analysis-item\",children:[/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"\\u610F\\u56FE\\u8BC6\\u522B:\"}),/*#__PURE__*/_jsx(Tag,{color:\"blue\",children:step.result.intent})]}),step.result.entities&&step.result.entities.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"analysis-item\",children:[/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"\\u5173\\u952E\\u5B9E\\u4F53:\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:4},children:step.result.entities.map((entity,i)=>/*#__PURE__*/_jsx(Tag,{color:\"purple\",size:\"small\",children:entity},i))})]}),step.result.difficulty&&/*#__PURE__*/_jsxs(\"div\",{className:\"analysis-item\",children:[/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"\\u96BE\\u5EA6\\u8BC4\\u4F30:\"}),/*#__PURE__*/_jsx(Tag,{color:step.result.difficulty==='简单'?'green':step.result.difficulty==='中等'?'orange':'red',children:step.result.difficulty})]})]}),step.step_type==='retrieval'&&/*#__PURE__*/_jsxs(\"div\",{className:\"result-section\",children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u77E5\\u8BC6\\u68C0\\u7D22\\u7ED3\\u679C:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"retrieval-stats\",children:[step.result.count!==undefined&&/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"\\u68C0\\u7D22\\u5230:\"}),/*#__PURE__*/_jsxs(Tag,{color:\"green\",size:\"small\",children:[step.result.count,\" \\u6761\\u76F8\\u5173\\u4FE1\\u606F\"]})]}),step.result.sources&&/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"\\u6570\\u636E\\u6E90:\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:4},children:Array.isArray(step.result.sources)?step.result.sources.map((source,i)=>/*#__PURE__*/_jsx(Tag,{color:\"blue\",size:\"small\",children:source},i)):/*#__PURE__*/_jsx(Tag,{color:\"blue\",size:\"small\",children:step.result.sources})})]}),step.result.query_expansion&&/*#__PURE__*/_jsxs(\"div\",{className:\"stat-item\",children:[/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"\\u67E5\\u8BE2\\u6269\\u5C55:\"}),/*#__PURE__*/_jsx(Text,{italic:true,style:{fontSize:'12px'},children:step.result.query_expansion})]})]})]}),step.step_type==='explanation'&&/*#__PURE__*/_jsxs(\"div\",{className:\"result-section\",children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u6982\\u5FF5\\u89E3\\u91CA\\u7ED3\\u679C:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"explanation-details\",children:[step.result.concepts&&/*#__PURE__*/_jsxs(\"div\",{className:\"explanation-item\",children:[/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"\\u89E3\\u91CA\\u6982\\u5FF5:\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:4},children:step.result.concepts.map((concept,i)=>/*#__PURE__*/_jsx(Tag,{color:\"cyan\",size:\"small\",children:concept},i))})]}),step.result.definition_quality&&/*#__PURE__*/_jsxs(\"div\",{className:\"explanation-item\",children:[/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"\\u5B9A\\u4E49\\u8D28\\u91CF:\"}),/*#__PURE__*/_jsx(Tag,{color:\"green\",size:\"small\",children:step.result.definition_quality})]}),step.result.examples_count&&/*#__PURE__*/_jsxs(\"div\",{className:\"explanation-item\",children:[/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"\\u793A\\u4F8B\\u6570\\u91CF:\"}),/*#__PURE__*/_jsxs(Tag,{color:\"orange\",size:\"small\",children:[step.result.examples_count,\" \\u4E2A\"]})]})]})]}),step.step_type==='recommendation'&&/*#__PURE__*/_jsxs(\"div\",{className:\"result-section\",children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u9898\\u76EE\\u63A8\\u8350\\u7ED3\\u679C:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"recommendation-details\",children:[step.status==='error'?/*#__PURE__*/_jsxs(\"div\",{className:\"recommendation-item\",children:[/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"\\u72B6\\u6001:\"}),/*#__PURE__*/_jsx(Tag,{color:\"red\",size:\"small\",children:\"\\u63A8\\u8350\\u670D\\u52A1\\u6682\\u65F6\\u4E0D\\u53EF\\u7528\"})]}):(_step$result=step.result)!==null&&_step$result!==void 0&&_step$result.problems?/*#__PURE__*/_jsxs(\"div\",{className:\"recommendation-item\",children:[/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"\\u63A8\\u8350\\u9898\\u76EE:\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:4},children:[step.result.problems.slice(0,3).map((problem,i)=>/*#__PURE__*/_jsx(Tag,{color:\"orange\",size:\"small\",children:problem},i)),step.result.problems.length>3&&/*#__PURE__*/_jsxs(Tag,{size:\"small\",children:[\"+\",step.result.problems.length-3,\" \\u66F4\\u591A\"]})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"recommendation-item\",children:[/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"\\u72B6\\u6001:\"}),/*#__PURE__*/_jsx(Tag,{color:\"blue\",size:\"small\",children:\"\\u63A8\\u8350\\u751F\\u6210\\u5B8C\\u6210\"})]}),((_step$result2=step.result)===null||_step$result2===void 0?void 0:_step$result2.recommendation_strategy)&&/*#__PURE__*/_jsxs(\"div\",{className:\"recommendation-item\",children:[/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"\\u63A8\\u8350\\u7B56\\u7565:\"}),/*#__PURE__*/_jsx(Text,{italic:true,style:{fontSize:'12px'},children:step.result.recommendation_strategy})]}),((_step$result3=step.result)===null||_step$result3===void 0?void 0:_step$result3.difficulty_distribution)&&/*#__PURE__*/_jsxs(\"div\",{className:\"recommendation-item\",children:[/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"\\u96BE\\u5EA6\\u5206\\u5E03:\"}),/*#__PURE__*/_jsx(Text,{style:{fontSize:'12px'},children:step.result.difficulty_distribution})]})]})]}),step.step_type==='integration'&&/*#__PURE__*/_jsxs(\"div\",{className:\"result-section\",children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u4FE1\\u606F\\u6574\\u5408\\u7ED3\\u679C:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"integration-details\",children:[step.result.sections&&/*#__PURE__*/_jsxs(\"div\",{className:\"integration-item\",children:[/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"\\u6574\\u5408\\u5185\\u5BB9:\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:4},children:/*#__PURE__*/_jsx(Text,{type:\"secondary\",style:{fontSize:12},children:Array.isArray(step.result.sections)?step.result.sections.join(' → '):step.result.sections})})]}),step.result.response_length&&/*#__PURE__*/_jsxs(\"div\",{className:\"integration-item\",children:[/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"\\u56DE\\u7B54\\u957F\\u5EA6:\"}),/*#__PURE__*/_jsxs(Tag,{color:\"blue\",size:\"small\",children:[step.result.response_length,\" \\u5B57\\u7B26\"]})]}),step.result.completeness_score&&/*#__PURE__*/_jsxs(\"div\",{className:\"integration-item\",children:[/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"\\u5B8C\\u6574\\u6027\\u8BC4\\u5206:\"}),/*#__PURE__*/_jsx(Tag,{color:\"green\",size:\"small\",children:step.result.completeness_score})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"step-metrics\",children:[step.confidence&&/*#__PURE__*/_jsxs(\"div\",{className:\"metric-item\",children:[/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"\\u7F6E\\u4FE1\\u5EA6:\"}),/*#__PURE__*/_jsx(Progress,{percent:step.confidence*100,size:\"small\",style:{width:80,marginLeft:8},strokeColor:step.confidence>0.8?'#52c41a':step.confidence>0.6?'#faad14':'#ff4d4f'})]}),formatDuration(step.start_time,step.end_time)&&/*#__PURE__*/_jsxs(\"div\",{className:\"metric-item\",children:[/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"\\u8017\\u65F6:\"}),/*#__PURE__*/_jsx(Tag,{size:\"small\",color:\"default\",style:{marginLeft:4},children:formatDuration(step.start_time,step.end_time)})]})]})]});};if(!steps||steps.length===0){return null;}// 如果正在流式处理且未完成，显示简洁的加载界面\nif(isStreaming&&!isCompleted){return/*#__PURE__*/_jsxs(Card,{className:\"enhanced-reasoning-path streaming-mode\",size:\"small\",bodyStyle:{padding:'16px'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"streaming-header\",children:/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"ai-avatar\",children:/*#__PURE__*/_jsx(ThunderboltOutlined,{style:{color:'#1890ff',fontSize:'16px'}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"streaming-info\",children:[/*#__PURE__*/_jsx(Text,{strong:true,style:{color:'#1890ff'},children:\"AI\\u6B63\\u5728\\u601D\\u8003\\u4E2D...\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"streaming-progress\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"progress-dots\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"dot\"}),/*#__PURE__*/_jsx(\"span\",{className:\"dot\"}),/*#__PURE__*/_jsx(\"span\",{className:\"dot\"})]}),/*#__PURE__*/_jsxs(Text,{type:\"secondary\",style:{fontSize:'12px',marginLeft:'8px'},children:[getCurrentStep()+1,\"/\",steps.length,\" \\u6B65\\u9AA4\"]})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"current-step-preview\",children:steps[getCurrentStep()]&&/*#__PURE__*/_jsxs(\"div\",{className:\"step-preview\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"step-icon\",children:getStatusIcon(steps[getCurrentStep()].status,true)}),/*#__PURE__*/_jsxs(\"div\",{className:\"step-content\",children:[/*#__PURE__*/_jsx(Text,{className:\"step-name\",children:getStepDisplayName(steps[getCurrentStep()].agent_name)}),/*#__PURE__*/_jsx(Text,{type:\"secondary\",className:\"step-desc\",children:steps[getCurrentStep()].description})]}),/*#__PURE__*/_jsx(\"div\",{className:\"step-status\",children:steps[getCurrentStep()].status==='processing'?/*#__PURE__*/_jsx(LoadingOutlined,{style:{color:'#1890ff'}}):/*#__PURE__*/_jsx(CheckCircleOutlined,{style:{color:'#52c41a'}})})]})})]});}return/*#__PURE__*/_jsxs(Card,{className:\"enhanced-reasoning-path\",title:/*#__PURE__*/_jsxs(\"div\",{className:\"reasoning-header\",children:[/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(ThunderboltOutlined,{style:{color:'#1890ff',fontSize:18}}),/*#__PURE__*/_jsx(Title,{level:5,style:{margin:0},children:\"AI\\u63A8\\u7406\\u8FC7\\u7A0B\"}),isStreaming&&/*#__PURE__*/_jsx(Tag,{color:\"processing\",icon:/*#__PURE__*/_jsx(LoadingOutlined,{}),children:\"\\u601D\\u8003\\u4E2D\"})]}),/*#__PURE__*/_jsx(Space,{children:/*#__PURE__*/_jsx(Button,{type:\"text\",size:\"small\",icon:showDetails?/*#__PURE__*/_jsx(EyeInvisibleOutlined,{}):/*#__PURE__*/_jsx(EyeOutlined,{}),onClick:()=>setShowDetails(!showDetails),children:showDetails?'隐藏详情':'显示详情'})})]}),size:\"small\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"overall-progress\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"progress-info\",children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u63A8\\u7406\\u8FDB\\u5EA6\"}),/*#__PURE__*/_jsxs(Text,{type:\"secondary\",style:{fontSize:12},children:[steps.filter(s=>s.status==='success').length,\" / \",steps.length,\" \\u6B65\\u9AA4\\u5B8C\\u6210\"]})]}),/*#__PURE__*/_jsx(Progress,{percent:getProgress(),status:isStreaming?'active':'success',strokeColor:{'0%':'#108ee9','100%':'#87d068'},trailColor:\"#f0f0f0\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"steps-timeline\",children:/*#__PURE__*/_jsx(Timeline,{mode:\"left\",children:steps.map((step,index)=>{const isActive=index===currentStepIndex&&step.status==='processing';const isExpanded=expandedSteps.includes(step.agent_name+index);return/*#__PURE__*/_jsx(Timeline.Item,{dot:getStatusIcon(step.status,isActive),color:getStatusColor(step.status),className:`timeline-item ${isActive?'active':''}`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"step-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"step-header\",onClick:()=>onStepClick&&onStepClick(step),style:{cursor:onStepClick?'pointer':'default'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"step-title\",children:/*#__PURE__*/_jsxs(Space,{children:[getAgentIcon(step.agent_name),/*#__PURE__*/_jsx(Text,{strong:true,children:step.description}),isActive&&/*#__PURE__*/_jsx(\"div\",{className:\"pulse-indicator\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"step-meta\",children:[/*#__PURE__*/_jsx(Tag,{color:\"blue\",style:{fontSize:'12px'},children:step.agent_name}),/*#__PURE__*/_jsx(Tag,{color:\"default\",style:{fontSize:'12px'},children:step.step_type}),step.confidence&&/*#__PURE__*/_jsxs(Tag,{color:step.confidence>0.8?'green':step.confidence>0.6?'orange':'red',size:\"small\",children:[(step.confidence*100).toFixed(0),\"%\"]}),/*#__PURE__*/_jsxs(Tag,{color:\"orange\",size:\"small\",children:[\"\\u8017\\u65F6: \",formatDuration(step.start_time,step.end_time)||'0ms']})]})]}),showDetails&&/*#__PURE__*/_jsx(Collapse,{ghost:true,size:\"small\",activeKey:isExpanded?['details']:[],onChange:keys=>{const stepKey=step.agent_name+index;if(keys.includes('details')){setExpandedSteps([...expandedSteps,stepKey]);}else{setExpandedSteps(expandedSteps.filter(k=>k!==stepKey));}},children:/*#__PURE__*/_jsx(Panel,{header:\"\\u67E5\\u770B\\u8BE6\\u60C5\",children:renderStepDetails(step)},\"details\")})]})},index);})})}),isStreaming&&/*#__PURE__*/_jsxs(\"div\",{className:\"streaming-indicator\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"streaming-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"pulse-dot\"}),/*#__PURE__*/_jsxs(Text,{type:\"secondary\",children:[\"AI\\u6B63\\u5728\",((_steps$currentStepInd=steps[currentStepIndex])===null||_steps$currentStepInd===void 0?void 0:_steps$currentStepInd.description)||'处理您的问题',\"...\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"streaming-progress\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar\",style:{width:`${getProgress()}%`}})})]}),/*#__PURE__*/_jsx(\"style\",{jsx:true,children:`\n        .enhanced-reasoning-path {\n          background: linear-gradient(135deg, #f6f9fc 0%, #ffffff 100%);\n          border: 1px solid #e1e8ed;\n          border-radius: 12px;\n          overflow: hidden;\n        }\n\n        .reasoning-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n\n        .overall-progress {\n          margin-bottom: 20px;\n          padding: 16px;\n          background: rgba(24, 144, 255, 0.05);\n          border-radius: 8px;\n          border-left: 4px solid #1890ff;\n        }\n\n        .progress-info {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 8px;\n        }\n\n        .steps-timeline {\n          margin: 16px 0;\n        }\n\n        .timeline-item.active {\n          background: rgba(24, 144, 255, 0.05);\n          border-radius: 8px;\n          padding: 8px;\n          margin: -8px;\n        }\n\n        .step-content {\n          width: 100%;\n        }\n\n        .step-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: flex-start;\n          margin-bottom: 8px;\n        }\n\n        .step-title {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n        }\n\n        .step-meta {\n          display: flex;\n          gap: 4px;\n          flex-wrap: wrap;\n        }\n\n        .pulse-indicator {\n          width: 8px;\n          height: 8px;\n          border-radius: 50%;\n          background: #1890ff;\n          animation: pulse 1.5s infinite;\n        }\n\n        .step-details {\n          margin-top: 12px;\n          padding: 16px;\n          background: #fafafa;\n          border-radius: 8px;\n          border-left: 3px solid #1890ff;\n        }\n\n        .step-basic-info {\n          margin-bottom: 16px;\n          padding-bottom: 12px;\n          border-bottom: 1px solid #e8e8e8;\n        }\n\n        .info-row {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 8px;\n        }\n\n        .info-row:last-child {\n          margin-bottom: 0;\n        }\n\n        .result-section {\n          margin-bottom: 16px;\n        }\n\n        .result-section:last-child {\n          margin-bottom: 0;\n        }\n\n        .analysis-item,\n        .stat-item,\n        .explanation-item,\n        .recommendation-item,\n        .integration-item {\n          margin-bottom: 12px;\n          padding: 8px 12px;\n          background: white;\n          border-radius: 6px;\n          border: 1px solid #e8e8e8;\n        }\n\n        .analysis-item:last-child,\n        .stat-item:last-child,\n        .explanation-item:last-child,\n        .recommendation-item:last-child,\n        .integration-item:last-child {\n          margin-bottom: 0;\n        }\n\n        .retrieval-stats,\n        .explanation-details,\n        .recommendation-details,\n        .integration-details {\n          margin-top: 8px;\n        }\n\n        .step-metrics {\n          display: flex;\n          gap: 16px;\n          margin-top: 8px;\n          padding-top: 8px;\n          border-top: 1px solid #f0f0f0;\n        }\n\n        .metric-item {\n          display: flex;\n          align-items: center;\n        }\n\n        .streaming-indicator {\n          margin-top: 16px;\n          padding: 12px;\n          background: linear-gradient(90deg, #f0f9ff 0%, #e6f7ff 100%);\n          border-radius: 8px;\n          border: 1px solid #91d5ff;\n        }\n\n        .streaming-content {\n          display: flex;\n          align-items: center;\n          margin-bottom: 8px;\n        }\n\n        .pulse-dot {\n          width: 8px;\n          height: 8px;\n          border-radius: 50%;\n          background: #1890ff;\n          margin-right: 8px;\n          animation: pulse 1.5s infinite;\n        }\n\n        .streaming-progress {\n          height: 2px;\n          background: #f0f0f0;\n          border-radius: 1px;\n          overflow: hidden;\n        }\n\n        .progress-bar {\n          height: 100%;\n          background: linear-gradient(90deg, #1890ff 0%, #52c41a 100%);\n          transition: width 0.3s ease;\n          animation: shimmer 2s infinite;\n        }\n\n        @keyframes pulse {\n          0% {\n            transform: scale(0.95);\n            box-shadow: 0 0 0 0 rgba(24, 144, 255, 0.7);\n          }\n          \n          70% {\n            transform: scale(1);\n            box-shadow: 0 0 0 10px rgba(24, 144, 255, 0);\n          }\n          \n          100% {\n            transform: scale(0.95);\n            box-shadow: 0 0 0 0 rgba(24, 144, 255, 0);\n          }\n        }\n\n        @keyframes shimmer {\n          0% {\n            background-position: -200px 0;\n          }\n          100% {\n            background-position: calc(200px + 100%) 0;\n          }\n        }\n\n        /* 流式模式样式 */\n        .streaming-mode {\n          border: 1px solid #e6f7ff;\n          background: linear-gradient(135deg, #f6f9fc 0%, #ffffff 100%);\n          box-shadow: 0 2px 8px rgba(24, 144, 255, 0.1);\n        }\n\n        .streaming-header {\n          margin-bottom: 16px;\n        }\n\n        .ai-avatar {\n          width: 32px;\n          height: 32px;\n          border-radius: 50%;\n          background: linear-gradient(135deg, #1890ff 0%, #40a9ff 100%);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: white;\n        }\n\n        .streaming-info {\n          flex: 1;\n        }\n\n        .streaming-progress {\n          display: flex;\n          align-items: center;\n          margin-top: 4px;\n        }\n\n        .progress-dots {\n          display: flex;\n          gap: 4px;\n        }\n\n        .progress-dots .dot {\n          width: 6px;\n          height: 6px;\n          border-radius: 50%;\n          background: #1890ff;\n          animation: dotPulse 1.5s infinite ease-in-out;\n        }\n\n        .progress-dots .dot:nth-child(2) {\n          animation-delay: 0.2s;\n        }\n\n        .progress-dots .dot:nth-child(3) {\n          animation-delay: 0.4s;\n        }\n\n        @keyframes dotPulse {\n          0%, 60%, 100% {\n            opacity: 0.3;\n            transform: scale(0.8);\n          }\n          30% {\n            opacity: 1;\n            transform: scale(1);\n          }\n        }\n\n        .current-step-preview {\n          background: rgba(24, 144, 255, 0.05);\n          border-radius: 8px;\n          padding: 12px;\n          border-left: 3px solid #1890ff;\n        }\n\n        .step-preview {\n          display: flex;\n          align-items: center;\n          gap: 12px;\n        }\n\n        .step-icon {\n          width: 24px;\n          height: 24px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          border-radius: 50%;\n          background: rgba(24, 144, 255, 0.1);\n        }\n\n        .step-content {\n          flex: 1;\n        }\n\n        .step-name {\n          display: block;\n          font-weight: 500;\n          color: #1890ff;\n          margin-bottom: 2px;\n        }\n\n        .step-desc {\n          display: block;\n          font-size: 12px;\n          line-height: 1.4;\n        }\n\n        .step-status {\n          display: flex;\n          align-items: center;\n        }\n\n        @media (max-width: 768px) {\n          .reasoning-header {\n            flex-direction: column;\n            align-items: flex-start;\n            gap: 8px;\n          }\n\n          .step-header {\n            flex-direction: column;\n            align-items: flex-start;\n            gap: 8px;\n          }\n\n          .step-meta {\n            width: 100%;\n          }\n\n          .step-metrics {\n            flex-direction: column;\n            gap: 8px;\n          }\n        }\n      `})]});};export default EnhancedReasoningPath;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}