{"ast":null,"code":"import React,{useState}from'react';import{Card,Typography,Button,Space,Spin,Alert,Tag,Drawer,List,message}from'antd';import{NodeIndexOutlined,ExpandAltOutlined,DownloadOutlined,InfoCircleOutlined,CodeOutlined,BulbOutlined,ThunderboltOutlined,CloseOutlined}from'@ant-design/icons';import UnifiedGraphVisualization from'../graph/UnifiedGraphVisualization';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const{Text,Title,Paragraph}=Typography;const InlineKnowledgeGraph=_ref=>{var _nodeDetailInfo$algor,_nodeDetailInfo$data_,_nodeDetailInfo$techn,_nodeDetailInfo$solut,_nodeDetailInfo$relat,_nodeDetailInfo$basic,_nodeDetailInfo$basic2,_nodeDetailInfo$basic3,_nodeDetailInfo$basic4,_nodeDetailInfo$basic5,_nodeDetailInfo$basic6,_nodeDetailInfo$basic7;let{graphData,entities,onNodeClick,onExpandClick,showAnimation=false,// 默认暂停动画\nisEnhanced=false// 是否为增强图谱数据\n}=_ref;const[isExpanded,setIsExpanded]=useState(false);const[loading,setLoading]=useState(false);const[selectedNode,setSelectedNode]=useState(null);const[nodeDetailVisible,setNodeDetailVisible]=useState(false);const[nodeDetailLoading,setNodeDetailLoading]=useState(false);const[nodeDetailInfo,setNodeDetailInfo]=useState(null);const[nodeDetailError,setNodeDetailError]=useState(null);// 获取节点详细信息 - 使用统一的API路径\nconst fetchNodeDetail=async(nodeId,nodeType)=>{setNodeDetailLoading(true);setNodeDetailError(null);try{var _data$algorithms,_data$data_structures,_data$techniques,_data$solutions;// 使用统一的API路径，与独立面板保持一致\nconst url=`/api/v1/graph/unified/node/${encodeURIComponent(nodeId)}/details?node_type=${nodeType}`;const response=await fetch(url);if(!response.ok){throw new Error(`HTTP error! status: ${response.status}`);}const data=await response.json();// 验证数据结构\nif(!data||typeof data!=='object'){console.error('❌ API响应数据格式无效:',data);throw new Error('API响应数据格式无效');}console.log('✅ 节点详情API响应:',data);console.log('📊 数据字段检查:',{hasBasicInfo:!!data.basic_info,hasAlgorithms:!!data.algorithms,algorithmsLength:((_data$algorithms=data.algorithms)===null||_data$algorithms===void 0?void 0:_data$algorithms.length)||0,hasDataStructures:!!data.data_structures,dataStructuresLength:((_data$data_structures=data.data_structures)===null||_data$data_structures===void 0?void 0:_data$data_structures.length)||0,hasTechniques:!!data.techniques,techniquesLength:((_data$techniques=data.techniques)===null||_data$techniques===void 0?void 0:_data$techniques.length)||0,hasComplexity:!!data.complexity,hasSolutions:!!data.solutions,solutionsLength:((_data$solutions=data.solutions)===null||_data$solutions===void 0?void 0:_data$solutions.length)||0});setNodeDetailInfo(data);}catch(err){console.error('获取节点详情失败:',err);setNodeDetailError(err.message||'获取节点详情失败');}finally{setNodeDetailLoading(false);}};// 处理节点点击\nconst handleNodeClick=(nodeId,nodeData)=>{console.log('InlineKnowledgeGraph - 节点点击:',{nodeId,nodeData});setSelectedNode(nodeData);setNodeDetailVisible(true);// 智能选择查询参数：\n// 1. 如果是独立图谱的节点ID格式（node_problem_xxx），使用节点的label（题目名称）\n// 2. 如果是增强图谱的节点ID格式（neo4j_xxx），使用节点ID\nconsole.log(`🔍 节点ID分析: ${nodeId}, label: ${nodeData.label}`);let queryParam=nodeId;if(nodeId.startsWith('node_problem_')||nodeId.startsWith('node_algorithm_')||nodeId.startsWith('node_datastructure_')){// 独立图谱格式，使用label作为查询参数\nqueryParam=nodeData.label;console.log(`🔄 独立图谱节点，使用label查询: ${nodeData.label}`);}else{// 增强图谱格式，使用nodeId\nconsole.log(`🔄 增强图谱节点，使用nodeId查询: ${nodeId}`);}console.log(`📤 最终查询参数: ${queryParam}`);fetchNodeDetail(queryParam,nodeData.type);// 不调用外部的onNodeClick回调，避免重复处理\n// if (onNodeClick) {\n//   onNodeClick(nodeId, nodeData);\n// }\n};// 统计不同类型的节点\nconst getNodeStats=()=>{const stats={};graphData.nodes.forEach(node=>{stats[node.type]=(stats[node.type]||0)+1;});return stats;};// 获取节点类型图标\nconst getNodeIcon=type=>{switch(type){case'Problem':return/*#__PURE__*/_jsx(CodeOutlined,{});case'Algorithm':return/*#__PURE__*/_jsx(ThunderboltOutlined,{});case'DataStructure':return/*#__PURE__*/_jsx(InfoCircleOutlined,{});case'Technique':return/*#__PURE__*/_jsx(BulbOutlined,{});default:return/*#__PURE__*/_jsx(InfoCircleOutlined,{});}};// 获取难度颜色\nconst getDifficultyColor=difficulty=>{switch(difficulty){case'简单':return'green';case'中等':return'orange';case'困难':return'red';default:return'default';}};const nodeStats=getNodeStats();const totalNodes=graphData.nodes.length;const totalEdges=graphData.edges.length;// 找到中心节点\nconst centerNode=graphData.nodes.find(node=>{var _node$properties;return((_node$properties=node.properties)===null||_node$properties===void 0?void 0:_node$properties.is_center)||node.id===graphData.center_node;});const handleExpand=()=>{setIsExpanded(!isExpanded);};const handleDownloadGraph=()=>{console.log('📥 开始下载图谱');try{// 查找图谱容器中的Canvas元素（vis.js使用Canvas渲染）\n// 首先尝试在当前组件的容器中查找\nconst currentContainer=document.querySelector('.unified-graph-visualization');let graphContainer=null;if(currentContainer){graphContainer=currentContainer.querySelector('canvas');}// 如果没找到，尝试其他选择器\nif(!graphContainer){graphContainer=document.querySelector('.graph-container canvas')||document.querySelector('.enhanced-graph-visualization canvas')||document.querySelector('canvas');}if(!graphContainer){console.warn('⚠️ 未找到图谱Canvas元素，尝试备用方法');// 显示所有Canvas元素用于调试\nconst allCanvases=document.querySelectorAll('canvas');console.log('🔍 页面中的所有Canvas元素:',allCanvases.length);if(allCanvases.length>0){// 使用第一个找到的Canvas作为备用\nconsole.log('📋 使用第一个Canvas作为备用');graphContainer=allCanvases[0];}else{console.error('❌ 页面中没有找到任何Canvas元素');message.error('无法找到图谱元素，请确保图谱已加载完成');return;}}const canvas=graphContainer;// 创建新的Canvas用于添加背景和边距\nconst downloadCanvas=document.createElement('canvas');const ctx=downloadCanvas.getContext('2d');if(!ctx){console.error('❌ 无法创建Canvas上下文');return;}// 设置下载Canvas的尺寸（添加边距）\nconst padding=40;downloadCanvas.width=canvas.width+padding*2;downloadCanvas.height=canvas.height+padding*2;// 设置白色背景\nctx.fillStyle='white';ctx.fillRect(0,0,downloadCanvas.width,downloadCanvas.height);// 绘制原始图谱到新Canvas（添加边距）\nctx.drawImage(canvas,padding,padding);// 添加标题\nctx.fillStyle='#333';ctx.font='16px Arial';ctx.textAlign='center';ctx.fillText('知识图谱',downloadCanvas.width/2,25);// 添加时间戳\nctx.font='12px Arial';ctx.textAlign='right';ctx.fillStyle='#999';const timestamp=new Date().toLocaleString('zh-CN');ctx.fillText(`生成时间: ${timestamp}`,downloadCanvas.width-10,downloadCanvas.height-10);// 转换为PNG并下载\ndownloadCanvas.toBlob(blob=>{if(blob){const url=URL.createObjectURL(blob);const link=document.createElement('a');link.href=url;link.download=`knowledge-graph-${Date.now()}.png`;document.body.appendChild(link);link.click();document.body.removeChild(link);// 清理URL\nURL.revokeObjectURL(url);console.log('✅ 图谱下载成功');message.success('图谱下载成功！');}},'image/png',0.95);// 高质量PNG\n}catch(error){console.error('❌ 下载图谱时出错:',error);message.error('下载图谱时出错，请稍后重试');}};return/*#__PURE__*/_jsxs(Card,{size:\"small\",style:{margin:'16px 0',border:'1px solid #d9d9d9',borderRadius:'8px',background:'linear-gradient(135deg, #f6ffed 0%, #f0f9ff 100%)'},bodyStyle:{padding:'16px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'12px'},children:/*#__PURE__*/_jsxs(Space,{align:\"center\",style:{width:'100%',justifyContent:'space-between'},children:[/*#__PURE__*/_jsxs(Space,{align:\"center\",children:[/*#__PURE__*/_jsx(NodeIndexOutlined,{style:{color:'#1890ff',fontSize:'16px'}}),/*#__PURE__*/_jsx(Title,{level:5,style:{margin:0,color:'#1890ff'},children:\"\\u77E5\\u8BC6\\u56FE\\u8C31\"}),/*#__PURE__*/_jsxs(Tag,{color:\"blue\",children:[totalNodes,\"\\u4E2A\\u8282\\u70B9\"]}),/*#__PURE__*/_jsxs(Tag,{color:\"green\",children:[totalEdges,\"\\u6761\\u5173\\u7CFB\"]}),isEnhanced&&/*#__PURE__*/_jsx(Tag,{color:\"orange\",children:\"\\u589E\\u5F3A\\u6570\\u636E\"})]}),/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Button,{type:\"text\",size:\"small\",icon:/*#__PURE__*/_jsx(DownloadOutlined,{}),onClick:handleDownloadGraph,children:\"\\u4E0B\\u8F7D\\u56FE\\u8C31\"}),/*#__PURE__*/_jsx(Button,{type:\"text\",size:\"small\",icon:/*#__PURE__*/_jsx(ExpandAltOutlined,{}),onClick:handleExpand,children:isExpanded?'收起':'展开'})]})]})}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'12px'},children:/*#__PURE__*/_jsxs(Space,{direction:\"vertical\",size:\"small\",style:{width:'100%'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Text,{type:\"secondary\",style:{fontSize:'12px'},children:[/*#__PURE__*/_jsx(InfoCircleOutlined,{style:{marginRight:'4px'}}),\"\\u67E5\\u8BE2\\u5B9E\\u4F53\\uFF1A\"]}),/*#__PURE__*/_jsx(Space,{size:\"small\",wrap:true,children:entities.map((entity,index)=>/*#__PURE__*/_jsx(Tag,{color:\"processing\",style:{fontSize:'12px'},children:entity},index))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Text,{type:\"secondary\",style:{fontSize:'12px'},children:\"\\u8282\\u70B9\\u7C7B\\u578B\\uFF1A\"}),/*#__PURE__*/_jsx(Space,{size:\"small\",wrap:true,children:Object.entries(nodeStats).map(_ref2=>{let[type,count]=_ref2;return/*#__PURE__*/_jsxs(Tag,{style:{fontSize:'12px'},children:[type,\": \",count]},type);})})]}),centerNode&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Text,{type:\"secondary\",style:{fontSize:'12px'},children:\"\\u4E2D\\u5FC3\\u8282\\u70B9\\uFF1A\"}),/*#__PURE__*/_jsxs(Tag,{color:\"gold\",style:{fontSize:'12px'},children:[centerNode.label,\" (\",centerNode.type,\")\"]})]})]})}),isExpanded&&/*#__PURE__*/_jsxs(\"div\",{style:{height:'400px',border:'1px solid #e8e8e8',borderRadius:'6px',background:'white',position:'relative',overflow:'auto',// 添加滚动支持\ncursor:'grab'// 添加拖拽光标提示\n},onMouseDown:e=>{// 拖拽时改变光标\ne.currentTarget.style.cursor='grabbing';},onMouseUp:e=>{// 释放时恢复光标\ne.currentTarget.style.cursor='grab';},onMouseLeave:e=>{// 鼠标离开时恢复光标\ne.currentTarget.style.cursor='grab';},children:[/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:'8px',right:'8px',background:'rgba(0, 0, 0, 0.6)',color:'white',padding:'4px 8px',borderRadius:'4px',fontSize:'12px',zIndex:10,pointerEvents:'none'},children:\"\\u53EF\\u6EDA\\u52A8\\u67E5\\u770B\"}),loading?/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center',alignItems:'center',height:'100%'},children:/*#__PURE__*/_jsx(Spin,{tip:\"\\u52A0\\u8F7D\\u56FE\\u8C31\\u4E2D...\"})}):/*#__PURE__*/_jsx(UnifiedGraphVisualization,{data:graphData,height:\"100%\",showControls:true,onNodeClick:handleNodeClick,defaultDataSources:['neo4j','embedding'],showAnimation:showAnimation,disableBuiltinNodeDetail:true,disableEnhancedNodeInfo:true})]}),!isExpanded&&/*#__PURE__*/_jsx(\"div\",{style:{height:'120px',border:'1px solid #e8e8e8',borderRadius:'6px',background:'white',display:'flex',alignItems:'center',justifyContent:'center',cursor:'pointer',transition:'all 0.3s ease'},onClick:handleExpand,onMouseEnter:e=>{e.currentTarget.style.background='#fafafa';e.currentTarget.style.borderColor='#1890ff';},onMouseLeave:e=>{e.currentTarget.style.background='white';e.currentTarget.style.borderColor='#e8e8e8';},children:/*#__PURE__*/_jsxs(Space,{direction:\"vertical\",align:\"center\",children:[/*#__PURE__*/_jsx(NodeIndexOutlined,{style:{fontSize:'32px',color:'#1890ff'}}),/*#__PURE__*/_jsx(Text,{type:\"secondary\",style:{fontSize:'14px'},children:\"\\u70B9\\u51FB\\u5C55\\u5F00\\u67E5\\u770B\\u77E5\\u8BC6\\u56FE\\u8C31\"}),/*#__PURE__*/_jsxs(Text,{type:\"secondary\",style:{fontSize:'12px'},children:[totalNodes,\"\\u4E2A\\u8282\\u70B9\\uFF0C\",totalEdges,\"\\u6761\\u5173\\u7CFB\"]})]})}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'12px',textAlign:'center'},children:/*#__PURE__*/_jsxs(Text,{type:\"secondary\",style:{fontSize:'11px'},children:[\"\\u57FA\\u4E8E\\u67E5\\u8BE2\\u5B9E\\u4F53\\\"\",entities.join('、'),\"\\\"\\u751F\\u6210\\u7684\\u77E5\\u8BC6\\u5173\\u7CFB\\u56FE\\u8C31\"]})}),/*#__PURE__*/_jsx(Drawer,{title:selectedNode?/*#__PURE__*/_jsxs(Space,{children:[getNodeIcon(selectedNode.type),/*#__PURE__*/_jsx(\"span\",{children:selectedNode.label}),/*#__PURE__*/_jsx(Tag,{color:\"blue\",children:selectedNode.type})]}):'节点详情',placement:\"right\",width:480,onClose:()=>setNodeDetailVisible(false),open:nodeDetailVisible,extra:/*#__PURE__*/_jsx(Button,{type:\"text\",icon:/*#__PURE__*/_jsx(CloseOutlined,{}),onClick:()=>setNodeDetailVisible(false)}),children:nodeDetailLoading?/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:'50px 0'},children:/*#__PURE__*/_jsx(Spin,{tip:\"\\u52A0\\u8F7D\\u8282\\u70B9\\u8BE6\\u60C5\\u4E2D...\"})}):nodeDetailError?/*#__PURE__*/_jsx(Alert,{message:\"\\u52A0\\u8F7D\\u5931\\u8D25\",description:nodeDetailError,type:\"error\",showIcon:true}):nodeDetailInfo?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Card,{size:\"small\",title:\"\\uD83D\\uDD0D \\u8C03\\u8BD5\\u4FE1\\u606F\",style:{marginBottom:16,background:'#f0f9ff'},children:/*#__PURE__*/_jsxs(Space,{direction:\"vertical\",style:{width:'100%'},children:[/*#__PURE__*/_jsxs(Text,{type:\"secondary\",children:[\"\\u7B97\\u6CD5\\u6570\\u91CF: \",(nodeDetailInfo===null||nodeDetailInfo===void 0?void 0:(_nodeDetailInfo$algor=nodeDetailInfo.algorithms)===null||_nodeDetailInfo$algor===void 0?void 0:_nodeDetailInfo$algor.length)||0]}),/*#__PURE__*/_jsxs(Text,{type:\"secondary\",children:[\"\\u6570\\u636E\\u7ED3\\u6784\\u6570\\u91CF: \",(nodeDetailInfo===null||nodeDetailInfo===void 0?void 0:(_nodeDetailInfo$data_=nodeDetailInfo.data_structures)===null||_nodeDetailInfo$data_===void 0?void 0:_nodeDetailInfo$data_.length)||0]}),/*#__PURE__*/_jsxs(Text,{type:\"secondary\",children:[\"\\u6280\\u5DE7\\u6570\\u91CF: \",(nodeDetailInfo===null||nodeDetailInfo===void 0?void 0:(_nodeDetailInfo$techn=nodeDetailInfo.techniques)===null||_nodeDetailInfo$techn===void 0?void 0:_nodeDetailInfo$techn.length)||0]}),/*#__PURE__*/_jsxs(Text,{type:\"secondary\",children:[\"\\u89E3\\u51B3\\u65B9\\u6848\\u6570\\u91CF: \",(nodeDetailInfo===null||nodeDetailInfo===void 0?void 0:(_nodeDetailInfo$solut=nodeDetailInfo.solutions)===null||_nodeDetailInfo$solut===void 0?void 0:_nodeDetailInfo$solut.length)||0]}),/*#__PURE__*/_jsxs(Text,{type:\"secondary\",children:[\"\\u76F8\\u5173\\u9898\\u76EE\\u6570\\u91CF: \",(nodeDetailInfo===null||nodeDetailInfo===void 0?void 0:(_nodeDetailInfo$relat=nodeDetailInfo.related_problems)===null||_nodeDetailInfo$relat===void 0?void 0:_nodeDetailInfo$relat.length)||0]}),/*#__PURE__*/_jsxs(Text,{type:\"secondary\",children:[\"\\u6570\\u636E\\u5B57\\u6BB5: \",Object.keys(nodeDetailInfo||{}).join(', ')]}),(nodeDetailInfo===null||nodeDetailInfo===void 0?void 0:nodeDetailInfo.error)&&/*#__PURE__*/_jsxs(Text,{type:\"danger\",children:[\"\\u274C \\u9519\\u8BEF\\u4FE1\\u606F: \",nodeDetailInfo.error]}),/*#__PURE__*/_jsxs(Text,{type:\"secondary\",children:[\"\\u8282\\u70B9ID: \",selectedNode===null||selectedNode===void 0?void 0:selectedNode.id]}),/*#__PURE__*/_jsxs(Text,{type:\"secondary\",children:[\"\\u8282\\u70B9\\u7C7B\\u578B: \",selectedNode===null||selectedNode===void 0?void 0:selectedNode.type]})]})}),/*#__PURE__*/_jsx(Card,{size:\"small\",title:\"\\u57FA\\u672C\\u4FE1\\u606F\",style:{marginBottom:16},children:/*#__PURE__*/_jsxs(Space,{direction:\"vertical\",style:{width:'100%'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u540D\\u79F0\\uFF1A\"}),/*#__PURE__*/_jsx(Text,{children:(nodeDetailInfo===null||nodeDetailInfo===void 0?void 0:(_nodeDetailInfo$basic=nodeDetailInfo.basic_info)===null||_nodeDetailInfo$basic===void 0?void 0:_nodeDetailInfo$basic.title)||(selectedNode===null||selectedNode===void 0?void 0:selectedNode.label)||'未知'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u7C7B\\u578B\\uFF1A\"}),/*#__PURE__*/_jsx(Tag,{color:\"blue\",children:(nodeDetailInfo===null||nodeDetailInfo===void 0?void 0:(_nodeDetailInfo$basic2=nodeDetailInfo.basic_info)===null||_nodeDetailInfo$basic2===void 0?void 0:_nodeDetailInfo$basic2.type)||(selectedNode===null||selectedNode===void 0?void 0:selectedNode.type)||'未知'})]}),(nodeDetailInfo===null||nodeDetailInfo===void 0?void 0:(_nodeDetailInfo$basic3=nodeDetailInfo.basic_info)===null||_nodeDetailInfo$basic3===void 0?void 0:_nodeDetailInfo$basic3.difficulty)&&nodeDetailInfo.basic_info.difficulty!==null&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u96BE\\u5EA6\\uFF1A\"}),/*#__PURE__*/_jsx(Tag,{color:getDifficultyColor(nodeDetailInfo.basic_info.difficulty),children:nodeDetailInfo.basic_info.difficulty})]}),(nodeDetailInfo===null||nodeDetailInfo===void 0?void 0:(_nodeDetailInfo$basic4=nodeDetailInfo.basic_info)===null||_nodeDetailInfo$basic4===void 0?void 0:_nodeDetailInfo$basic4.category)&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u5206\\u7C7B\\uFF1A\"}),/*#__PURE__*/_jsx(Tag,{color:\"purple\",children:nodeDetailInfo.basic_info.category})]}),(nodeDetailInfo===null||nodeDetailInfo===void 0?void 0:(_nodeDetailInfo$basic5=nodeDetailInfo.basic_info)===null||_nodeDetailInfo$basic5===void 0?void 0:_nodeDetailInfo$basic5.url)&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u94FE\\u63A5\\uFF1A\"}),/*#__PURE__*/_jsx(\"a\",{href:nodeDetailInfo.basic_info.url,target:\"_blank\",rel:\"noopener noreferrer\",children:\"\\u67E5\\u770B\\u9898\\u76EE\"})]}),(nodeDetailInfo===null||nodeDetailInfo===void 0?void 0:(_nodeDetailInfo$basic6=nodeDetailInfo.basic_info)===null||_nodeDetailInfo$basic6===void 0?void 0:_nodeDetailInfo$basic6.platform)&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u5E73\\u53F0\\uFF1A\"}),/*#__PURE__*/_jsx(Text,{children:nodeDetailInfo.basic_info.platform})]}),(nodeDetailInfo===null||nodeDetailInfo===void 0?void 0:(_nodeDetailInfo$basic7=nodeDetailInfo.basic_info)===null||_nodeDetailInfo$basic7===void 0?void 0:_nodeDetailInfo$basic7.description)&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u63CF\\u8FF0\\uFF1A\"}),/*#__PURE__*/_jsx(Paragraph,{children:nodeDetailInfo.basic_info.description})]})]})}),(nodeDetailInfo===null||nodeDetailInfo===void 0?void 0:nodeDetailInfo.algorithms)&&Array.isArray(nodeDetailInfo.algorithms)&&nodeDetailInfo.algorithms.length>0&&/*#__PURE__*/_jsx(Card,{size:\"small\",title:\"\\u76F8\\u5173\\u7B97\\u6CD5\",style:{marginBottom:16},children:/*#__PURE__*/_jsx(List,{size:\"small\",dataSource:nodeDetailInfo.algorithms,renderItem:item=>/*#__PURE__*/_jsx(List.Item,{children:/*#__PURE__*/_jsxs(Space,{direction:\"vertical\",style:{width:'100%'},children:[/*#__PURE__*/_jsx(Text,{strong:true,children:(item===null||item===void 0?void 0:item.name)||'未知算法'}),(item===null||item===void 0?void 0:item.description)&&/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:item.description})]})})})}),(nodeDetailInfo===null||nodeDetailInfo===void 0?void 0:nodeDetailInfo.data_structures)&&Array.isArray(nodeDetailInfo.data_structures)&&nodeDetailInfo.data_structures.length>0&&/*#__PURE__*/_jsx(Card,{size:\"small\",title:\"\\u76F8\\u5173\\u6570\\u636E\\u7ED3\\u6784\",style:{marginBottom:16},children:/*#__PURE__*/_jsx(List,{size:\"small\",dataSource:nodeDetailInfo.data_structures,renderItem:item=>/*#__PURE__*/_jsx(List.Item,{children:/*#__PURE__*/_jsxs(Space,{direction:\"vertical\",style:{width:'100%'},children:[/*#__PURE__*/_jsx(Text,{strong:true,children:(item===null||item===void 0?void 0:item.name)||'未知数据结构'}),(item===null||item===void 0?void 0:item.description)&&/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:item.description})]})})})}),(nodeDetailInfo===null||nodeDetailInfo===void 0?void 0:nodeDetailInfo.complexity)&&typeof nodeDetailInfo.complexity==='object'&&/*#__PURE__*/_jsx(Card,{size:\"small\",title:\"\\u590D\\u6742\\u5EA6\\u5206\\u6790\",style:{marginBottom:16},children:/*#__PURE__*/_jsxs(Space,{direction:\"vertical\",style:{width:'100%'},children:[nodeDetailInfo.complexity.time&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u65F6\\u95F4\\u590D\\u6742\\u5EA6\\uFF1A\"}),/*#__PURE__*/_jsx(Tag,{color:\"green\",children:nodeDetailInfo.complexity.time})]}),nodeDetailInfo.complexity.space&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u7A7A\\u95F4\\u590D\\u6742\\u5EA6\\uFF1A\"}),/*#__PURE__*/_jsx(Tag,{color:\"blue\",children:nodeDetailInfo.complexity.space})]}),nodeDetailInfo.complexity.access&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u8BBF\\u95EE\\u590D\\u6742\\u5EA6\\uFF1A\"}),/*#__PURE__*/_jsx(Tag,{color:\"cyan\",children:nodeDetailInfo.complexity.access})]}),nodeDetailInfo.complexity.search&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u641C\\u7D22\\u590D\\u6742\\u5EA6\\uFF1A\"}),/*#__PURE__*/_jsx(Tag,{color:\"purple\",children:nodeDetailInfo.complexity.search})]}),nodeDetailInfo.complexity.insertion&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u63D2\\u5165\\u590D\\u6742\\u5EA6\\uFF1A\"}),/*#__PURE__*/_jsx(Tag,{color:\"orange\",children:nodeDetailInfo.complexity.insertion})]}),nodeDetailInfo.complexity.deletion&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u5220\\u9664\\u590D\\u6742\\u5EA6\\uFF1A\"}),/*#__PURE__*/_jsx(Tag,{color:\"red\",children:nodeDetailInfo.complexity.deletion})]})]})}),(nodeDetailInfo===null||nodeDetailInfo===void 0?void 0:nodeDetailInfo.related_problems)&&Array.isArray(nodeDetailInfo.related_problems)&&nodeDetailInfo.related_problems.length>0&&/*#__PURE__*/_jsx(Card,{size:\"small\",title:\"\\u76F8\\u5173\\u9898\\u76EE\",style:{marginBottom:16},children:/*#__PURE__*/_jsx(List,{size:\"small\",dataSource:nodeDetailInfo.related_problems,renderItem:item=>/*#__PURE__*/_jsx(List.Item,{children:/*#__PURE__*/_jsx(Space,{direction:\"vertical\",style:{width:'100%'},children:/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Text,{strong:true,children:(item===null||item===void 0?void 0:item.title)||'未知题目'}),(item===null||item===void 0?void 0:item.difficulty)&&/*#__PURE__*/_jsx(Tag,{color:getDifficultyColor(item.difficulty),children:item.difficulty}),(item===null||item===void 0?void 0:item.similarity_score)&&/*#__PURE__*/_jsxs(Tag,{color:\"purple\",children:[\"\\u76F8\\u4F3C\\u5EA6: \",(item.similarity_score*100).toFixed(1),\"%\"]})]})})})})}),(nodeDetailInfo===null||nodeDetailInfo===void 0?void 0:nodeDetailInfo.techniques)&&Array.isArray(nodeDetailInfo.techniques)&&nodeDetailInfo.techniques.length>0&&/*#__PURE__*/_jsx(Card,{size:\"small\",title:\"\\u76F8\\u5173\\u6280\\u5DE7\",style:{marginBottom:16},children:/*#__PURE__*/_jsx(List,{size:\"small\",dataSource:nodeDetailInfo.techniques,renderItem:item=>/*#__PURE__*/_jsx(List.Item,{children:/*#__PURE__*/_jsxs(Space,{direction:\"vertical\",style:{width:'100%'},children:[/*#__PURE__*/_jsx(Text,{strong:true,children:(item===null||item===void 0?void 0:item.name)||'未知技巧'}),(item===null||item===void 0?void 0:item.description)&&/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:item.description})]})})})}),(nodeDetailInfo===null||nodeDetailInfo===void 0?void 0:nodeDetailInfo.solutions)&&Array.isArray(nodeDetailInfo.solutions)&&nodeDetailInfo.solutions.length>0&&/*#__PURE__*/_jsx(Card,{size:\"small\",title:\"\\u89E3\\u51B3\\u65B9\\u6848\",style:{marginBottom:16},children:/*#__PURE__*/_jsx(List,{size:\"small\",dataSource:nodeDetailInfo.solutions,renderItem:item=>/*#__PURE__*/_jsx(List.Item,{children:/*#__PURE__*/_jsxs(Space,{direction:\"vertical\",style:{width:'100%'},children:[/*#__PURE__*/_jsx(Text,{strong:true,children:(item===null||item===void 0?void 0:item.approach)||'解决方案'}),(item===null||item===void 0?void 0:item.description)&&/*#__PURE__*/_jsx(Paragraph,{style:{margin:0},children:item.description}),(item===null||item===void 0?void 0:item.time_complexity)&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"\\u65F6\\u95F4\\u590D\\u6742\\u5EA6: \"}),/*#__PURE__*/_jsx(Tag,{color:\"green\",children:item.time_complexity})]}),(item===null||item===void 0?void 0:item.space_complexity)&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"\\u7A7A\\u95F4\\u590D\\u6742\\u5EA6: \"}),/*#__PURE__*/_jsx(Tag,{color:\"blue\",children:item.space_complexity})]})]})})})}),(nodeDetailInfo===null||nodeDetailInfo===void 0?void 0:nodeDetailInfo.insights)&&Array.isArray(nodeDetailInfo.insights)&&nodeDetailInfo.insights.length>0&&/*#__PURE__*/_jsx(Card,{size:\"small\",title:\"\\u5173\\u952E\\u6D1E\\u5BDF\",style:{marginBottom:16},children:/*#__PURE__*/_jsx(List,{size:\"small\",dataSource:nodeDetailInfo.insights,renderItem:item=>/*#__PURE__*/_jsx(List.Item,{children:/*#__PURE__*/_jsxs(Space,{direction:\"vertical\",style:{width:'100%'},children:[/*#__PURE__*/_jsx(Text,{strong:true,children:(item===null||item===void 0?void 0:item.title)||'洞察'}),(item===null||item===void 0?void 0:item.content)&&/*#__PURE__*/_jsx(Paragraph,{style:{margin:0},children:item.content})]})})})})]}):selectedNode?/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:'50px 0'},children:/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"\\u6682\\u65E0\\u8BE6\\u7EC6\\u4FE1\\u606F\"})}):null})]});};export default InlineKnowledgeGraph;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}